{
   "name":"Keen Ears",
   "description":"I can hear you...",
   "badges":[
      {
         "type":"origins:tooltip",
         "sprite":"origins:textures/gui/badge/info.png",
         "text":"Things that would trigger a sculk sensor like eating walking, breaking/placing blocks etc, will trigger an isolated form of 'echolocation' specified at whatever made the noise. If a player places, or interacts with something it would highlight the player closest."
      }
   ],
   "type":"origins:multiple",
   "active":{
      "type":"origins:action_over_time",
      "entity_action":{
         "type":"origins:area_of_effect",
         "radius":22,
         "shape":"sphere",
         "bientity_action":{
            "type":"origins:target_action",
            "action":{
               "type":"origins:grant_power",
               "power":"kin_of_sculk:keen_ears_noise",
               "source":"kin_of_sculk:kin_of_sculk"
            }
         }
      },
      "interval":60
   },
   "glow":{
      "type":"origins:entity_glow",
      "entity_condition":{
         "type":"origins:and",
         "conditions":[
            {
               "type":"origins:living"
            },
            {
               "type":"origins:or",
               "conditions":[
                  {
                     "type":"origins:resource",
                     "resource":"kin_of_sculk:keen_ears_noise_duration",
                     "comparison":">",
                     "compare_to":0
                  },
                  {
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:player",
                     "inverted":true
                  }
               ]
            },
            {
               "type":"origins:entity_type",
               "entity_type":"minecraft:armor_stand",
               "inverted":true
            }
         ]
      },
      "bientity_condition":{
         "type":"origins:distance",
         "comparison":"<=",
         "compare_to":30
      }
   },
   "hide_entities":{
      "type":"origins:prevent_entity_render",
      "bientity_condition":{
         "type":"origins:and",
         "conditions":[
            {
               "type":"origins:or",
               "conditions":[
                  {
                     "type":"origins:distance",
                     "comparison":">=",
                     "compare_to":20
                  },
                  {
                     "type":"origins:target_condition",
                     "condition":{
                        "type":"origins:and",
                        "conditions":[
                           {
                              "type":"origins:living"
                           },
                           {
                              "type":"origins:resource",
                              "resource":"kin_of_sculk:keen_ears_noise_duration",
                              "comparison":"==",
                              "compare_to":0
                           },
                           {
                              "type":"origins:in_tag",
                              "tag":"kin_of_sculk:always_see",
                              "inverted":true
                           }
                        ]
                     }
                  }
               ]
            },
            {
               "type":"origins:distance",
               "comparison":"==",
               "compare_to":0,
               "inverted":true
            }
         ]
      }
   },
   "onchange":{
      "type":"origins:action_on_callback",
      "entity_action_chosen":{
         "type":"origins:execute_command",
         "command":"tag @s add kin_of_sculk"
      },
      "entity_action_added":{
         "type":"origins:execute_command",
         "command":"tag @s add kin_of_sculk"
      },
      "entity_action_respawned":{
         "type":"origins:and",
         "actions":[
            {
               "type":"origins:execute_command",
               "command":"tag @s add kin_of_sculk"
            },
            {
               "type":"origins:change_resource",
               "resource":"kin_of_sculk:keen_ears_mode",
               "change":0,
               "operation":"set"
            }
         ]
      },
      "entity_action_lost":{
         "type":"origins:clear_effect",
         "effect":"minecraft:blindness"
      },
      "entity_action_removed":{
         "type":"origins:execute_command",
         "command":"tag @s remove kin_of_sculk"
      }
   }
}